{% extends 'base.html.twig' %}

{% block title %}
   Intégration html + css  | movies search
{% endblock %}

{% block stylesheets %}
    {{ parent() }}

    <link rel="stylesheet" href="{{ asset('css/page-3.css') }}">

{% endblock %}



{% block body %}
   
    <header id="header">
        {{ include('main-menu.html.twig') }}

        <div id="master-cover"></div>

        <div id="gender-print">
            <h1 class="display-4 text-light">series</h1>
        </div>
        
    </header>

    <section class="block animation-top bg-light mt-0 pt-4 pb-3">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-12 col-sm-12">
                    
                    <form action="?" method="GET">
                        <legend class="text-muted">
                            Recherche detaillée
                        </legend>

                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <select name="genre" class="form-control form-control-sm custom-select">
                                      <option value="">Genre...</option>
                                    </select>
                                </div>
                            </div>

                            <div class="col-md-4">
                                <div class="form-group">
                                    <select name="pays" class="form-control form-control-sm custom-select">
                                      <option value="">Pays...</option>
                                    </select>
                                </div>
                            </div>

                            <div class="col-md-4">
                                <div class="form-group">
                                    <select name="annee" class="form-control form-control-sm custom-select">
                                      <option value="">Année...</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <select name="lang" class="form-control form-control-sm custom-select">
                                      <option value="">Langue...</option>
                                    </select>
                                </div>
                            </div>

                            <div class="col-md-4">
                                <div  class="form-group">
                                    <select name="format" class="form-control form-control-sm custom-select">
                                      <option value="">Format...</option>
                                    </select>
                                </div>
                            </div>

                            <div class="col-md-4">
                                <div class="form-group">
                                    <button type="submit" class="btn btn-sm btn-secondary btn-block">
                                        <i class="fas fa-search"></i> Rechercher
                                    </button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <section class="block  animation-right" style="min-height: 800px">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-12 col-sm-12">
                    
                    <div class="row">
                        <div class="col-md-4">
                            <aside>
                                <h3 class="block-title">Catégories</h3>

                                <div class="mt-4">

                                    <nav class="navbar navbar-expand-lg navbar-light bg-primary">
                                      
                                        <div class="collapse navbar-collapse" id="navbarNav">
                                            <ul class="navbar-nav flex-column w-100 ">
                                                <li class="nav-item active ">
                                                    <a class="nav-link text-white" href="?genre=telenovelas">
                                                        Telenovelas 
                                                        <span class="sr-only">(current)</span>

                                                        <span class="float-right badge badge-light badge-pill">55</span>
                                                    </a>
                                                </li>
                                          
                                                <li class="nav-item">
                                                    <a class="nav-link text-white" href="?genre=series">
                                                        Series

                                                        <span class="float-right badge badge-light badge-pill">102</span>
                                                    </a>
                                                </li>
                                          
                                                <li class="nav-item">
                                                    <a class="nav-link text-white" href="?genre=nollywood">
                                                        Nollywood

                                                        <span class="float-right badge badge-light badge-pill">15</span>
                                                    </a>
                                                </li>
                                          
                                                <li class="nav-item">
                                                    <a class="nav-link text-white" href="?genre=documentaires">
                                                        Documentaires 

                                                        <span class="float-right badge badge-light badge-pill">30</span>
                                                    </a>
                                                </li>

                                                <li class="nav-item">
                                                    <a class="nav-link text-white" href="?genre=animations">
                                                        Animations

                                                        <span class="float-right badge badge-light badge-pill">40</span>
                                                    </a>
                                                </li>

                                                <li class="nav-item">
                                                    <a class="nav-link text-white" href="?genre=films">
                                                        Films

                                                        <span class="float-right badge badge-light badge-pill">500</span>
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </nav>

                                    
                                </div>

                                <div class="p-2 border mt-3">
                                    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Veritatis consequatur, necessitatibus esse! Molestias autem debitis magni neque provident temporibus tenetur aut excepturi alias incidunt vel laborum vero nostrum, a quos.

                                    <br><br>

                                    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Veritatis consequatur, necessitatibus esse! Molestias autem debitis magni neque provident temporibus tenetur aut excepturi alias incidunt vel laborum vero nostrum, a quos.
                                </div>
                            </aside>
                        </div>

                        <div class="col-md-8">
                            <div class="row">
                                <div class="col-md-4">
                                    Trier par...
                                </div>

                                <div class="col-md-4">
                                    Ordre alphabetique 
                                    <a href="?order={{ app.request.query.get('order') == 'asc'?'desc':'asc'}}" class="badge badge-pill badge-secondary p-1">
                                        {{ app.request.query.get('order') == 'asc'?'A-Z':'Z-A' }}
                                    </a>
                                </div>
                                
                                <div class="col-md-4">
                                    Ordre chronologique 
                                    <a href="" class="badge badge-pill badge-secondary p-1" data-toggle="dropdown" aria-haspopup="true"aria-expanded="false">2010</a>

                                    <div class="dropdown-menu bg-secondary  dropdown-menu-right" aria-labelledby="dropdownMenuButton" style="font-size: 11px;min-width: 50px">

                                        <a  href="?annee=2010" class="dropdown-item">
                                            2010
                                        </a>

                                        <a  href="?annee=2011" class="dropdown-item">
                                            2011
                                        </a>

                                        <a  href="?annee=2012" class="dropdown-item">
                                            2012
                                        </a>
                                     </div>
                                </div>
                            </div>

                            <div class="mt-3" id="catalogue-list">
                               <div class="row">

                                    {% for movie in 0..15 %}
                                        
                                        <div class="col-3">
                                            <div  class="position-relative has-media-detail d-block vid-hover text-white mb-4">
                                                <img class="img-fluid" src="{{ asset('img/'~random(['other-movie-10','other-movie-9','other-movie-8','other-movie-1','other-movie-2','other-movie-3','other-movie-4'])~'.jpg')}}" >

                                                <div class="media-overlay"></div>

                                                <div class="media-btn-wrapper">
                                                    <ul>
                                                        <li>
                                                            <a href="" class="to-overlay">
                                                                Bande annonce
                                                            </a>
                                                        </li>

                                                        <li>
                                                            <a href="{{ path('catalogue_index',{'slug':random(1000)})}}">
                                                                Details
                                                            </a>
                                                        </li>
                                                    </ul>
                                                </div>

                                                <!--div class="media-info align-items-center justify-content-center"> 
                                                    <span class="badge badge-light">Serie</span>
                                                    <br>
                                                    <span class="badge badge-light">11-02-2014</span>
                                                </div-->
                                            </div>
                                        </div>
                                    {% endfor %}
                                </div>
                                
                                <div class="w-100"></div>

                                <nav aria-label="Page navigation">
                                    <ul class="pagination justify-content-center">
                                        <li class="page-item disabled">
                                            <a class="page-link" href="#" aria-label="Previous">
                                                <span aria-hidden="true">
                                                    &laquo;</span>
                                                <span class="sr-only">
                                                Précedent</span>
                                            </a>
                                        </li>

                                        <li class="page-item">
                                            <a class="page-link" href="?page=1">
                                                1
                                            </a>
                                        </li>

                                        <li class="page-item">
                                            <a class="page-link" href="?page=2">
                                                2
                                            </a>
                                        </li>

                                        <li class="page-item">
                                            <a class="page-link" href="?page=3">
                                                3
                                            </a>
                                        </li>

                                        <li class="page-item disabled">
                                            <a class="page-link" href="?page=4" aria-label="Next">
                                                <span aria-hidden="true">
                                                    &raquo;
                                                </span>
                                                <span class="sr-only">
                                                Suivant</span>
                                            </a>
                                        </li>
                                    </ul>
                                </nav>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div id="movie-overlay">
        <a href="" id="movie-close">
            <i class="fas fa-times text-white fa-2x"></i>
        </a>

        <div class="embed-responsive embed-responsive-16by9" style="width:70%">
            <iframe frameborder="0" allowfullscreen class="embed-responsive-item" src="https://www.youtube.com/embed/zpOULjyy-n8?rel=0"></iframe>
        </div>

    </div>
{% endblock %}


{% block javascripts %}
    {{ parent() }}
    
    <script src="{{ asset('js/main-menu-manager.js') }}"></script>

    <script>
        $(document).ready(function($){

            let mainMenu = $("#master-menu");
            var sections = $(".block");
            var win = $(window);

            sections.each(function(i,el){
                let obj = $(el);
                obj.addClass('section-animation');
            });

            win.on({
                scroll:function(e){

                    let pos = $(this).scrollTop();
                    if(pos >= 230){
                        mainMenu.addClass('active');
                    }
                    else if(pos <= 120){
                        mainMenu.removeClass('active');
                    }
                }
            });

            let gp = $("#gender-print");
            let gpp = gp.parent();
            let hr = gpp.innerHeight() + $("#master-menu").innerHeight();

            gp.css({
                left:(gpp.innerWidth()/2) - (gp.innerWidth()/2),
                top:(hr/2) - (gp.innerHeight()/2),
                visibility:'visible'
            });

            $('.to-overlay').on({
                click:function(e){
                    e.preventDefault();
                    $('#movie-overlay').addClass('active');
                    $('body').css('overflow-y','hidden');
                }
            });

            $('#movie-overlay #movie-close').on({
                click:function(e){
                    e.preventDefault();
                    $('#movie-overlay').removeClass('active');
                    $('body').css('overflow-y','auto');
                }
            });
        });
    </script>

{% endblock %}

